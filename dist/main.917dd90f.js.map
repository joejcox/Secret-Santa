{"version":3,"sources":["main.js"],"names":["stepOne","document","getElementById","stepTwo","stepThree","resultInfo","peopleNum","input","list","namesInDraw","select","clearAll","proceed","error","add","goBack","roll","confirm","result","querySelector","err","names","namesCopy","window","addEventListener","e","key","addItem","console","log","selectedIndex","classList","clearList","length","innerHTML","remove","join","html","i","slice","shuffle","check","counter","value","push","clear","updateList","querySelectorAll","forEach","item","splice","a","j","Math","floor","random","b","person","copyIndex","indexOf","theName","final","confetti","start"],"mappings":"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","file":"main.917dd90f.js","sourceRoot":"..","sourcesContent":["const stepOne = document.getElementById('step-one');\r\nconst stepTwo = document.getElementById('step-two');\r\nconst stepThree = document.getElementById('step-three');\r\nconst resultInfo = document.getElementById('result-info');\r\nconst peopleNum = document.getElementById('num-of-people');\r\nconst input = document.getElementById('input');\r\nconst list = document.getElementById('names-list');\r\nconst namesInDraw = document.getElementById('names-in-draw');\r\nconst select = document.getElementById('selection');\r\nconst clearAll = document.getElementById('clear');\r\nconst proceed = document.getElementById('continue');\r\nconst error = document.getElementById('error');\r\nconst add = document.getElementById('add');\r\nconst goBack = document.getElementById('go-back');\r\nconst roll = document.getElementById('roll');\r\nconst confirm = document.getElementById('confirm');\r\nconst result = document.querySelector('.result');\r\nconst err = document.getElementById('choice-error');\r\n\r\nlet names = [];\r\nlet namesCopy = [];\r\n\r\n\r\n// Add items to list when enter is pressed\r\nwindow.addEventListener('keydown', e =>{\r\n  if (e.key === \"Enter\") {\r\n    addItem();\r\n  }\r\n})\r\n\r\nselect.addEventListener('change', () =>{\r\n    console.log(\"hi\");\r\n    if (select.selectedIndex !== 0) {\r\n        err.classList.add('hide');\r\n    }\r\n});\r\n\r\n// Add item to list when add button is clicked\r\nadd.addEventListener('click', addItem);\r\n\r\n// Clear all items in list\r\nclearAll.addEventListener('click', clearList);\r\n\r\n// Continue on to the next step\r\nproceed.addEventListener('click', () =>{\r\n    if (names.length < 3) {\r\n        error.innerHTML = \"Please add at least three names to the list before continuing!\";\r\n        error.classList.remove('hide');\r\n    } else {\r\n        stepOne.classList.add('hide');\r\n        stepTwo.classList.remove('hide');\r\n\r\n        // Print out the names array\r\n        namesInDraw.innerHTML = `<strong>The people in this draw are:</strong> <span class=\"names-span\">${names.join(', ')}.</span>If these are incorrect, press the \"go back\" button to change your items.`;\r\n        let html =\"<option>Choose your name</option>\";\r\n        for (let i=0;i<names.length;i++){\r\n            html += `<option data-person=${names[i]}>`\r\n            html += names[i];\r\n            html += \"</option>\";\r\n            select.innerHTML = html;\r\n        }\r\n        namesCopy = names.slice();\r\n        shuffle(names);\r\n        shuffle(namesCopy);\r\n        check(names, namesCopy);\r\n        \r\n        // console.log(`names: ${names.join(', ')}`);\r\n        // console.log(`copy: ${namesCopy.join(', ')}`)\r\n    }  \r\n})\r\n\r\n\r\ngoBack.addEventListener('click', () =>{\r\n    stepOne.classList.remove('hide');\r\n    stepTwo.classList.add('hide');\r\n})\r\n\r\nlet counter = 0;\r\nroll.addEventListener('click', () =>{\r\n    counter++;\r\n    // copy names array, shuffle both and check they are not the same values in each index\r\n\r\n    let person = select.value;\r\n    if (person !== \"Choose your name\") {\r\n\r\n        let copyIndex = namesCopy.indexOf(person);\r\n        let theName = names[copyIndex];\r\n        result.innerHTML = theName;\r\n        resultInfo.innerHTML = `Hi secret santa ${person}. Below is the person you have been assigned to buy for. Please press confirm once you are done so that nobody else sees who you have!`\r\n        stepTwo.classList.add('hide');\r\n        stepThree.classList.remove('hide');\r\n        goBack.classList.add('hide');\r\n        err.classList.add('hide');\r\n    } else {\r\n        err.classList.remove('hide');\r\n        err.innerHTML = \"<h2>Error: please pick a name</h2>\";\r\n        return;\r\n    }\r\n})\r\n\r\nconfirm.addEventListener('click', () =>{\r\n    if (counter === names.length){\r\n        stepThree.classList.add('hide');\r\n        final.classList.remove('hide');\r\n        confetti.start();\r\n        return;\r\n    }\r\n    stepThree.classList.add('hide');\r\n    stepTwo.classList.remove('hide');\r\n    select[select.selectedIndex].classList.add('hide');\r\n    select.selectedIndex = 0;\r\n});\r\n\r\n\r\n// Functions\r\n\r\nfunction addItem() {\r\n    if (input.value !== \"\") {\r\n        names.push(input.value);\r\n        clear();\r\n        updateList();\r\n    } else {\r\n        error.classList.remove('hide');\r\n        error.innerHTML = \"Please enter a valid item. Field should not be blank.\"\r\n    }\r\n}\r\n\r\nfunction updateList() {\r\n    let html = \"\";\r\n    for (let i=0; i<names.length; i++){\r\n        html += '<div class=\"column flex is-full\"><div class=\"name\">';\r\n        html += names[i];\r\n        html += '</div><div class=\"delete remove\"><button class=\"danger\">Delete</button></div></div>';\r\n        list.innerHTML = html;\r\n    }\r\n    if (names.length > 0) {\r\n        const remove = document.querySelectorAll('.remove');\r\n        clearAll.classList.remove('hide');\r\n        remove.forEach((item, i)=>{\r\n            item.addEventListener('click', () =>{\r\n                if (names.length > 1){\r\n                    names.splice(i, 1);\r\n                    updateList();\r\n                } else {\r\n                    clearList();\r\n                }\r\n            }) // end event listener\r\n        }) // end foreach\r\n    }\r\n    error.classList.add('hide');\r\n    \r\n    if (names.length === 1){\r\n        peopleNum.innerHTML = `<i class=\"fa fa-user\"></i>${names.length}`;\r\n    } else {     \r\n        peopleNum.innerHTML = `<i class=\"fa fa-user\"></i>${names.length}`;\r\n    }\r\n} // end update list function\r\n\r\n\r\nfunction clear() {\r\n    input.value = \"\";\r\n}\r\n\r\nfunction clearList(){\r\n    names = [];\r\n    list.innerHTML = \"\";\r\n    clearAll.classList.add('hide');\r\n    updateList();\r\n    namesInDraw.innerHTML = \"\";\r\n}\r\n\r\n\r\n// Shuffle the names array\r\nfunction shuffle(a) {\r\n    for (let i = a.length - 1; i>0; i--){\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n    return a;\r\n}\r\n\r\n// Check that each index value is not equal in names array and names copy array\r\n\r\nfunction check(a, b){\r\n    for (let i = 0; i < a.length; i++){\r\n        if (a[i] === b[i]){\r\n            shuffle(a);\r\n            check(a,b);\r\n        }\r\n    }\r\n    \r\n    return names;\r\n    return namesCopy;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// function getRandomName() {\r\n//     if (names.length === 1) {\r\n//         return names[0];\r\n//     }\r\n//     let random;\r\n//     let person = select.value;\r\n//     do {\r\n//         random = Math.floor(Math.random() * names.length);\r\n//     } while (random === getRandomName.last || names[random] === person);\r\n//     getRandomName.last = random;\r\n//     return names[random];\r\n// };"]}